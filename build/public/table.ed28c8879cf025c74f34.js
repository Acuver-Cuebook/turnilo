(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{674:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"e",(function(){return i})),a.d(t,"g",(function(){return l})),a.d(t,"d",(function(){return s})),a.d(t,"f",(function(){return c})),a.d(t,"c",(function(){return o})),a.d(t,"h",(function(){return u}));var n=38,r=25,i=30,l=10,s=100,c=300,o=130,u=10},675:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),r=a.n(n),i=a(8),l=function(e){var t=e.title,a=Object(i.a)(8*t.length,80,300);return r.a.createElement("div",{className:"title",style:{minWidth:a}},t)}},680:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var n=a(0),r=a.n(n),i=a(11),l=a(675),s=a(67),c=a(3),o=a(4),u=a(2),h=a(6),d=a(7),m=a(1),g=a(8),f=a(122),v=a(164),p=a(237),b=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r)),Object(m.a)(Object(u.a)(e),"modalRef",void 0),Object(m.a)(Object(u.a)(e),"setModalRef",(function(t){e.modalRef=t})),Object(m.a)(Object(u.a)(e),"onMouseDown",(function(t){var a=t.target;Object(g.h)(a,e.modalRef)||e.props.onClose()})),e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.children,n=e.left,i=e.top;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{mouseDown:this.onMouseDown}),r.a.createElement(f.a,{left:n,top:i},r.a.createElement("div",{className:Object(g.b)("modal-bubble",t),ref:this.setModalRef},a,r.a.createElement(p.a,{direction:"up"}))))}}]),a}(r.a.Component),w=function(e){var t=e.title,a=e.children,n=e.left,c=e.top,o=e.acceptHighlight,u=e.dropHighlight;return r.a.createElement(b,{className:"highlight-modal",left:n,top:c,onClose:u},r.a.createElement(l.a,{title:t}),r.a.createElement("div",{className:"value"},a),r.a.createElement("div",{className:"actions"},r.a.createElement(s.a,{type:"primary",className:"accept mini",onClick:o,title:i.m.select}),r.a.createElement(s.a,{type:"secondary",className:"drop mini",onClick:u,title:i.m.cancel})))}},684:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(37),r=a(0),i=a.n(r),l=a(674),s=function(e){var t=e.renderRow,a=e.hoveredRowDatum,r=e.rowsData,s=e.visibleRowsIndexRange,c=e.highlightedRowIndex,o=Object(n.a)(s,2),u=o[0],h=o[1],d=r.slice(u,h);return i.a.createElement(i.a.Fragment,null,d.map((function(e,n){var r=u+n,i=r*l.e,s=r===c;return t({highlight:s||e===a,dimmed:!s&&null!==c,top:i,index:r,datum:e})})))}},686:function(e,t,a){"use strict";function n(e){var t=e.series.series.count();return e.hasComparison()?3*t:t}a.d(t,"a",(function(){return n}))},688:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),r=a.n(n),i=a(8),l=a(18),s=a(381),c=function(e){var t=e.direction;return r.a.createElement(l.a,{svg:s,className:Object(i.b)("sort-arrow",t)})}},699:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),r=a.n(n),i=a(8),l=function(e){var t=e.className,a=e.highlight,n=e.dimmed,l=e.children,s=e.style;return r.a.createElement("div",{className:Object(i.b)("split-value",t,{dimmed:n,highlight:a}),style:s},l)}},700:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0),r=a.n(n),i=function(e){var t=e.children;return r.a.createElement("div",{className:"corner"},t)}},704:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0),r=a.n(n);function i(e,t){return function(a){return r.a.createElement(e,Object.assign({},a,t))}}},705:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(34),r=a(120);function i(e,t){return e.getConcreteSeries().groupBy((function(e){return e.reactKey()})).map((function(e){return e.first()})).toMap().map((function(e){var a=t.map((function(t){return e.selectValue(t)}));return r.k().domain(r.b([0].concat(Object(n.a)(a)))).range([0,100])}))}},706:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(674);function r(e,t,a){return[Math.max(0,Math.floor(a/n.e)),Math.min(e,Math.ceil((a+t)/n.e))]}},709:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(0),r=a.n(n),i=a(684),l=a(8),s=a(25),c=a(676),o=function(e){var t=e.highlight,a=e.width;return r.a.createElement("div",{className:"measure-background-container"},r.a.createElement("div",{className:Object(l.b)("measure-background",{highlight:t}),style:{width:a+"%"}}))},u=function(e){var t=e.width,a=e.value,n=e.children;return r.a.createElement("div",{className:"measure-cell",style:{width:t}},n,r.a.createElement("div",{className:"measure-label"},a))},h=function(e){var t=e.series,a=e.datum,n=e.barScale,i=e.highlight,l=e.showPrevious,h=e.cellWidth,d=t.selectValue(a),m=r.a.createElement(u,{key:t.reactKey(),width:h,value:t.formatValue(a)},n&&r.a.createElement(o,{highlight:i,width:n(d)}));if(!l)return m;var g=t.selectValue(a,s.b.PREVIOUS);return r.a.createElement(r.a.Fragment,null,m,r.a.createElement(u,{key:t.reactKey(s.b.PREVIOUS),width:h,value:t.formatValue(a,s.b.PREVIOUS)},n&&r.a.createElement(o,{highlight:i,width:n(g)})),r.a.createElement(u,{width:h,key:t.reactKey(s.b.DELTA),value:r.a.createElement(c.a,{currentValue:d,previousValue:g,lowerIsBetter:t.measure.lowerIsBetter,formatter:t.formatter()})}))},d=function(e){var t=e.datum,a=e.showBar,n=e.scales,i=e.cellWidth,s=e.highlight,c=e.dimmed,o=e.style,u=e.essence,d=u.getConcreteSeries().toArray();return r.a.createElement("div",{className:Object(l.b)("measure-row",{highlight:s,dimmed:c}),style:o},d.map((function(e){return r.a.createElement(h,{key:e.reactKey(),series:e,datum:t,highlight:s,barScale:a?n.get(e.reactKey()):null,cellWidth:i,showPrevious:u.hasComparison()})})))},m=function(e){var t=e.rowWidth,a=e.showBarPredicate,n=e.essence,l=e.cellWidth,s=e.hoverRow,c=e.scales,o=e.data,u=e.visibleRowsIndexRange,h=e.highlightedRowIndex;return r.a.createElement(i.a,{visibleRowsIndexRange:u,highlightedRowIndex:h,hoveredRowDatum:s,rowsData:o,renderRow:function(e){var i=e.index,s=e.top,o=e.datum,u=e.highlight,h=e.dimmed,m={top:s,width:t},g=a(o);return r.a.createElement(d,{key:"row_".concat(i),essence:n,highlight:u,dimmed:h,style:m,datum:o,cellWidth:l,showBar:g,scales:c})}})}},711:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(0),r=a.n(n),i=a(25),l=a(19),s=a(8),c=a(688),o=function(e){var t=e.sort,a=e.width,n=e.title,i=e.className,l=null!==t;return r.a.createElement("div",{className:Object(s.b)("measure-header-cell",i,{sorted:l}),style:{width:a}},r.a.createElement("div",{className:"title-wrap"},n),t&&r.a.createElement(c.a,{direction:t}))};function u(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.b.CURRENT,n=e instanceof l.b&&e.reference===t.definition.key()&&e.period===a;return n?e.direction:null}var h=function(e){var t=e.cellWidth,a=e.series,n=e.sort,l=e.showPrevious;return r.a.createElement(r.a.Fragment,null,a.map((function(e){var a=r.a.createElement(o,{key:e.reactKey(),width:t,title:e.title(),sort:u(n,e)});return l?r.a.createElement(r.a.Fragment,{key:e.reactKey()},a,r.a.createElement(o,{key:e.reactKey(i.b.PREVIOUS),width:t,title:e.title(i.b.PREVIOUS),sort:u(n,e,i.b.PREVIOUS)}),r.a.createElement(o,{className:"measure-delta",key:e.reactKey(i.b.DELTA),width:t,title:"Difference",sort:u(n,e,i.b.DELTA)})):a})))}},716:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),r=a.n(n),i=a(674),l=a(684),s=a(699),c=function(e){var t=e.splitLabel,a=e.data,n=e.highlightedRowIndex,c=e.hoverRow,o=e.visibleRowsIndexRange,u=e.segmentWidth;return r.a.createElement("div",{className:"flattened-splits-rows"},r.a.createElement(l.a,{visibleRowsIndexRange:o,highlightedRowIndex:n,rowsData:a,hoveredRowDatum:c,renderRow:function(e){var a=e.index,n=e.top,l=e.datum,c=e.highlight,o=e.dimmed,h={width:u-i.g,top:n};return r.a.createElement(s.a,{key:"splits_".concat(a),className:"flattened-splits-row",style:h,dimmed:o,highlight:c},r.a.createElement(t,{datum:l}))}}))}},717:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),r=a.n(n),i=a(13),l=a(19),s=a(700),c=a(688);var o=function(e){var t=e.sort,a=e.splits,n=e.dataCube;return r.a.createElement(s.a,null,r.a.createElement("div",{className:"header-split-columns"},a.splits.toArray().map((function(e){var a=e.reference,s=Object(i.d)(n.dimensions,a).title,o=function(e,t){return t instanceof l.a&&e.reference===t.reference?t.direction:null}(e,t);return r.a.createElement("div",{className:"header-split-column",key:a},r.a.createElement("div",{className:"header-split-column-title"},s),o&&r.a.createElement("div",{className:"header-split-column-sort-icon"},r.a.createElement(c.a,{direction:o})))}))))}},719:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),r=a.n(n),i=a(121),l=function(e){var t=e.splits,a=e.datum,n=e.timezone;return r.a.createElement(r.a.Fragment,null,t.map((function(e){var t=e.reference,l=e.selectValue(a);return r.a.createElement("div",{key:t,className:"flattened-split-value"},Object(i.b)(l,n))})))}},769:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Y}));var n=a(3),r=a(4),i=a(2),l=a(6),s=a(7),c=a(1),o=a(0),u=a.n(o),h=a(674),d=a(704),m=a(677),g=a(71),f=a(19),v=a(686),p=a(25),b=a(14);let w;function E(e,t,a,n){var r,i=t.series.series,l=e-a,s=Math.floor(l/n);if(t.hasComparison()){var c=Object(b.i)(s,3),o=i.get(c);if(!o)return{element:w.WHITESPACE};var u=(r=s,[p.b.CURRENT,p.b.PREVIOUS,p.b.DELTA][r%3]);return{element:w.HEADER,series:o,period:u}}var h=i.get(s);return h?{element:w.HEADER,series:h,period:p.b.CURRENT}:{element:w.WHITESPACE}}!function(e){e[e.ROW=0]="ROW",e[e.HEADER=1]="HEADER",e[e.WHITESPACE=2]="WHITESPACE"}(w||(w={}));var R=a(9),O=a(70),y=a(12),j=a(20);function W(e,t){var a=t.__nest,n=e.splits;if(0===a||a>n.size)return null;var r=n.take(a).map((function(e){var a=e.reference,n=e.type,r=t[a];switch(n){case j.b.number:return new y.d({reference:a,values:R.a.of(new y.e(r))});case j.b.time:return new y.c({reference:a,values:R.a.of(new O.a(r))});case j.b.string:return new y.h({reference:a,action:y.g.IN,values:R.f.of(r)});case j.b.boolean:return new y.a({reference:a,values:R.f.of(r)})}}));return Object(R.a)(r)}var k=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return e=t.call.apply(t,[this].concat(l)),Object(c.a)(Object(i.a)(e),"state",{hoverRow:null,scrollTop:0}),Object(c.a)(Object(i.a)(e),"setHoverRow",(function(t,a,n){var r=e.state.hoverRow,i=e.calculateMousePosition(t,a,n);i.element===w.ROW&&i.datum!==r&&e.setState({hoverRow:i.datum})})),Object(c.a)(Object(i.a)(e),"resetHover",(function(){e.state.hoverRow&&e.setState({hoverRow:null})})),Object(c.a)(Object(i.a)(e),"setScrollTop",(function(t){return e.setState({scrollTop:t})})),Object(c.a)(Object(i.a)(e),"handleClick",(function(t,a,n){var r=e.calculateMousePosition(t,a,n);switch(r.element){case w.HEADER:e.setSortToSeries(r.series,r.period);break;case w.ROW:e.highlightRow(r.datum)}})),e}return Object(r.a)(a,[{key:"setSortToSeries",value:function(e,t){var a=this.props,n=a.clicker,r=a.essence,i=r.splits,l=r.getCommonSort(),s=e.key(),c=new f.b({reference:s,period:t,direction:f.c.descending}),o=l&&l.equals(c)?c.set("direction",f.c.ascending):c;n.changeSplits(i.changeSort(o),g.b.KeepAlways)}},{key:"highlightRow",value:function(e){var t=this.props,a=t.essence.splits,n=t.highlight,r=t.saveHighlight,i=t.dropHighlight,l=W(a,e);l&&(null!==n&&l.equals(n.clauses)?i():r(l,null))}},{key:"getIdealColumnWidth",value:function(){var e=this.props.stage.width-h.g-this.getSegmentWidth(),t=Object(v.a)(this.props.essence);return t*h.c>=e?h.c:e/t}},{key:"calculateMousePosition",value:function(e,t,a){var n=this.props.flatData;switch(a){case"top-gutter":return E(e,this.props.essence,this.getSegmentWidth(),this.getIdealColumnWidth());case"body":case"left-gutter":return function(e,t){var a=e-h.a,n=Math.floor(a/h.e),r=t?t[n]:null;return r?{element:w.ROW,datum:r}:{element:w.WHITESPACE}}(t,n);default:return{element:w.WHITESPACE}}}},{key:"getSegmentWidth",value:function(){return this.props.segmentWidth||h.f}},{key:"render",value:function(){var e=this.props.children,t=this.state,a=t.hoverRow,n=t.scrollTop;return u.a.createElement(u.a.Fragment,null,e({columnWidth:this.getIdealColumnWidth(),hoverRow:a,scrollTop:n,handleClick:this.handleClick,resetHover:this.resetHover,setHoverRow:this.setHoverRow,setScrollTop:this.setScrollTop}))}}]),a}(u.a.Component),S=a(680),C=a(80),N=a(241),H=a(711),I=a(709),T=a(705),x=a(706),D=a(121);function A(e,t){var a=t.timezone,n=t.splits.splits,r=e.__nest;if(0===r)return"Total";var i=e[n.get(r-1).reference];return Object(D.b)(i,a)}var P=a(142),M=a(719),_=a(716),V=a(699),K=a(684),F=function(e){var t=e.essence,a=e.data,n=e.highlightedRowIndex,r=e.hoverRow,i=e.visibleRowsIndexRange,l=e.segmentWidth;return u.a.createElement("div",{className:"nested-splits-rows"},u.a.createElement(K.a,{hoveredRowDatum:r,visibleRowsIndexRange:i,highlightedRowIndex:n,rowsData:a,renderRow:function(e){var a=e.index,n=e.top,r=e.datum,i=e.highlight,s=e.dimmed,c=r.__nest,o=Math.max(0,c-1)*h.b,d={left:o,width:l-o,top:n};return u.a.createElement(V.a,{key:"segment_".concat(a),highlight:i,dimmed:s,style:d},A(r,t))}}))},U=["collapseRows"],L=function(e){var t=e.collapseRows,a=Object(P.a)(e,U),n=a.data,r=a.essence,i=r.timezone,l=r.splits.splits;return n?t?u.a.createElement(_.a,Object.assign({},a,{splitLabel:function(e){var t=e.datum;return u.a.createElement(M.a,{splits:l,datum:t,timezone:i})}})):u.a.createElement(F,a):null},z=a(717),B=a(13),q=a(700),G=function(e){var t=e.dataCube,a=e.splits.splits.map((function(e){return Object(B.d)(t.dimensions,e.reference).title})).join(", ");return u.a.createElement(q.a,null,a)},J=function(e){var t=e.essence,a=e.collapseRows,n=t.dataCube,r=t.splits;return a?u.a.createElement(z.a,{dataCube:n,splits:r}):u.a.createElement(G,{dataCube:n,splits:r})},Q=function(e){var t=e.highlightedIndex,a=e.scrollTopOffset,n=e.highlightedNesting,r=e.collapseRows,i=t*h.e-a,l=r?0:Math.max(0,n-1)*h.b;return u.a.createElement("div",{className:"highlight-cont"},u.a.createElement("div",{className:"highlight"},u.a.createElement("div",{className:"highlighter",key:"highlight",style:{top:i,left:l}})))};var X=function(e){var t=e.essence,a=e.stage,n=e.flatData,r=e.handleClick,i=e.setHoverRow,l=e.resetHover,s=e.setScrollTop,c=e.setSegmentWidth,o=e.segmentWidth,d=e.columnWidth,m=e.scrollTop,g=e.acceptHighlight,f=e.highlight,p=e.hoverRow,b=e.collapseRows,w=e.dropHighlight,E=e.availableWidth,R=t.splits.length(),O=Object(T.a)(t,n.filter((function(e){return e.__nest===R}))),y=Object(v.a)(t),j=n?n.length:0,k=Object(x.a)(j,a.height,m),D={bodyWidth:d*y+h.h,bodyHeight:j*h.e,top:h.a,right:0,bottom:0,left:o},P=function(e,t,a){if(!a)return null;if(null===t)return null;var n=e.splits,r=a.findIndex((function(e){return t.clauses.equals(W(n,e))}));return r>=0?r:null}(t,f,n),M=null!==P&&n,_=E||h.f,V=t.splits.length();return u.a.createElement(u.a.Fragment,null,u.a.createElement(C.c,{direction:C.a.LEFT,onResize:c,min:h.f,max:_,value:o}),u.a.createElement(N.a,{layout:D,topGutter:u.a.createElement(H.a,{cellWidth:d,series:t.getConcreteSeries().toArray(),sort:t.getCommonSort(),showPrevious:t.hasComparison()}),leftGutter:u.a.createElement(L,{collapseRows:b,highlightedRowIndex:P,visibleRowsIndexRange:k,hoverRow:p,essence:t,data:n,segmentWidth:o}),topLeftCorner:u.a.createElement(J,{essence:t,collapseRows:b}),body:n&&u.a.createElement(I.a,{hoverRow:p,showBarPredicate:function(e){return e.__nest===V},visibleRowsIndexRange:k,essence:t,highlightedRowIndex:P,scales:O,data:n,cellWidth:d,rowWidth:d*y}),overlay:M&&u.a.createElement(Q,{highlightedIndex:P,highlightedNesting:n[P].__nest,scrollTopOffset:m,collapseRows:b}),onClick:r,onMouseMove:i,onMouseLeave:l,onScroll:s}),null!==P&&u.a.createElement(S.a,{title:A(n[P],t),left:a.x+a.width/2,top:a.y+h.a+P*h.e-m- -4,acceptHighlight:g,dropHighlight:w}))},Y=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return e=t.call.apply(t,[this].concat(l)),Object(c.a)(Object(i.a)(e),"state",{segmentWidth:h.f}),Object(c.a)(Object(i.a)(e),"setSegmentWidth",(function(t){e.setState({segmentWidth:t})})),e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.state.segmentWidth;return u.a.createElement(u.a.Fragment,null,u.a.createElement(m.b,this.props),u.a.createElement(m.a,Object.assign({},this.props,{chartComponent:Object(d.a)(Z,{segmentWidth:e,setSegmentWidth:this.setSegmentWidth})})))}}]),a}(u.a.Component),Z=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"shouldCollapseRows",value:function(){return this.props.essence.visualizationSettings.collapseRows}},{key:"flattenOptions",value:function(){return this.shouldCollapseRows()?{order:"inline",nestingName:"__nest"}:{order:"preorder",nestingName:"__nest"}}},{key:"flattenData",value:function(){var e=this.props,t=e.essence.splits,a=e.data;return 0===t.length()?[]:a.flatten(this.flattenOptions()).data}},{key:"render",value:function(){var e=this.props,t=e.essence,a=e.clicker,n=e.stage,r=e.acceptHighlight,i=e.saveHighlight,l=e.highlight,s=e.dropHighlight,c=e.setSegmentWidth,o=e.segmentWidth,h=this.flattenData(),d=this.shouldCollapseRows(),m=n.width-100;return u.a.createElement("div",{className:"table-container"},u.a.createElement(k,{essence:t,clicker:a,stage:n,flatData:h,dropHighlight:s,acceptHighlight:r,highlight:l,segmentWidth:o,saveHighlight:i},(function(e){var a=e.setScrollTop,i=e.setHoverRow,g=e.resetHover,f=e.handleClick,v=e.columnWidth,p=e.hoverRow,b=e.scrollTop;return u.a.createElement(X,{flatData:h,essence:t,stage:n,dropHighlight:s,acceptHighlight:r,highlight:l,handleClick:f,setHoverRow:i,resetHover:g,setScrollTop:a,setSegmentWidth:c,columnWidth:v,segmentWidth:o,scrollTop:b,hoverRow:p,collapseRows:d,availableWidth:m})})))}}]),a}(u.a.Component)}}]);
//# sourceMappingURL=table.ed28c8879cf025c74f34.js.map