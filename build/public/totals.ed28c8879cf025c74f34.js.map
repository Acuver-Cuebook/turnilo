{"version":3,"sources":["webpack:///./src/client/visualizations/totals/total.tsx","webpack:///./src/client/visualizations/totals/totals.tsx"],"names":["Difference","datum","series","Fragment","className","formatValue","SeriesDerivation","PREVIOUS","previousValue","selectValue","currentValue","CURRENT","lowerIsBetter","measure","formatter","Total","showPrevious","title","BigNumbers","essence","data","getConcreteSeries","toArray","map","key","reactKey","hasComparison","TotalsVisualization","props","chartComponent"],"mappings":"wLA2BMA,EAAuD,SAAC,GAAsB,IAApBC,EAAoB,EAApBA,MAAOC,EAAa,EAAbA,OACrE,OAAO,kBAAC,IAAMC,SAAP,KACL,yBAAKC,UAAU,yCACZF,EAAOG,YAAYJ,EAAOK,IAAiBC,WAE9C,yBAAKH,UAAU,uBACb,kBAAC,IAAD,CACEI,cAAeN,EAAOO,YAAYR,EAAOK,IAAiBC,UAC1DG,aAAcR,EAAOO,YAAYR,EAAOK,IAAiBK,SACzDC,cAAeV,EAAOW,QAAQD,cAC9BE,UAAWZ,EAAOY,iBAWbC,EAA6C,SAAC,GAAoC,IAAlCC,EAAkC,EAAlCA,aAAcf,EAAoB,EAApBA,MAAOC,EAAa,EAAbA,OAChF,OAAO,yBAAKE,UAAU,SACpB,yBAAKA,UAAU,eAAea,MAAOf,EAAOe,SAAUf,EAAOe,SAC7D,yBAAKb,UAAU,iBAAiBF,EAAOG,YAAYJ,EAAOK,IAAiBK,UAC1EK,GAAgB,kBAAC,EAAD,CAAYd,OAAQA,EAAQD,MAAOA,MCzBlDiB,EAAkD,SAAC,GAAsB,IAApBC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,KAC5DlB,EAASiB,EAAQE,oBAAoBC,UACrCrB,EAAQmB,EAAKA,KAAK,GACxB,OAAO,yBAAKhB,UAAU,mBACnBF,EAAOqB,KAAI,SAAArB,GAAM,OAClB,kBAAC,EAAD,CACEsB,IAAKtB,EAAOuB,WACZvB,OAAQA,EACRD,MAAOA,EACPe,aAAcG,EAAQO,uBAKb,SAASC,EAAoBC,GAC1C,OAAO,kBAAC,IAAMzB,SAAP,KACL,kBAAC,IAAiCyB,GAClC,kBAAC,IAAD,iBAAgBA,EAAhB,CAAuBC,eAAgBX","file":"totals.ed28c8879cf025c74f34.js","sourcesContent":["/*\n * Copyright 2017-2019 Allegro.pl\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Datum } from \"plywood\";\nimport React from \"react\";\nimport { ConcreteSeries, SeriesDerivation } from \"../../../common/models/series/concrete-series\";\nimport { Delta } from \"../../components/delta/delta\";\nimport \"./total.scss\";\n\ninterface DifferenceProps {\n  datum: Datum;\n  series: ConcreteSeries;\n}\n\nconst Difference: React.FunctionComponent<DifferenceProps> = ({ datum, series }) => {\n  return <React.Fragment>\n    <div className=\"measure-value measure-value--previous\">\n      {series.formatValue(datum, SeriesDerivation.PREVIOUS)}\n    </div>\n    <div className=\"measure-delta-value\">\n      <Delta\n        previousValue={series.selectValue(datum, SeriesDerivation.PREVIOUS)}\n        currentValue={series.selectValue(datum, SeriesDerivation.CURRENT)}\n        lowerIsBetter={series.measure.lowerIsBetter}\n        formatter={series.formatter()} />\n    </div>\n  </React.Fragment>;\n};\n\nexport interface TotalProps {\n  showPrevious: boolean;\n  datum: Datum;\n  series: ConcreteSeries;\n}\n\nexport const Total: React.FunctionComponent<TotalProps> = ({ showPrevious, datum, series }) => {\n  return <div className=\"total\">\n    <div className=\"measure-name\" title={series.title()}>{series.title()}</div>\n    <div className=\"measure-value\">{series.formatValue(datum, SeriesDerivation.CURRENT)}</div>\n    {showPrevious && <Difference series={series} datum={datum} />}\n  </div>;\n};\n","/*\n * Copyright 2015-2016 Imply Data, Inc.\n * Copyright 2017-2019 Allegro.pl\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport { ChartProps } from \"../../../common/models/chart-props/chart-props\";\nimport {\n  ChartPanel,\n  DefaultVisualizationControls,\n  VisualizationProps\n} from \"../../views/cube-view/center-panel/center-panel\";\nimport { Total } from \"./total\";\nimport \"./totals.scss\";\n\nconst BigNumbers: React.FunctionComponent<ChartProps> = ({ essence, data }) => {\n  const series = essence.getConcreteSeries().toArray();\n  const datum = data.data[0];\n  return <div className=\"total-container\">\n    {series.map(series =>\n    <Total\n      key={series.reactKey()}\n      series={series}\n      datum={datum}\n      showPrevious={essence.hasComparison()}\n    />)}\n  </div>;\n};\n\nexport default function TotalsVisualization(props: VisualizationProps) {\n  return <React.Fragment>\n    <DefaultVisualizationControls {...props} />\n    <ChartPanel {...props} chartComponent={BigNumbers}/>\n  </React.Fragment>;\n}\n"],"sourceRoot":""}